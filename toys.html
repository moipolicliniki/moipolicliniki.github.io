<!DOCTYPE html>
<meta aframe-injected="" name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1,shrink-to-fit=no,user-scalable=no,minimal-ui">
<meta aframe-injected="" name="mobile-web-app-capable" content="yes">
<title>Мои поликлиники AR</title>
<link rel="stylesheet" type="text/css" href="../css/main.css"/>
<script src="https://aframe.io/releases/0.8.0/aframe.min.js"></script>
<script src="https://cdn.rawgit.com/jeromeetienne/AR.js/1.6.0/aframe/build/aframe-ar.js"></script>
<script src="https://rawgit.com/donmccurdy/aframe-extras/master/dist/aframe-extras.loaders.min.js"></script>
<script src="https://github.com/rexraptor08/animation-controls/tree/master/js/aframe-extras.js"></script>
<script src="../js/main.js"></script>

<body style='margin : 0px; overflow: hidden;'>
<div class="AR-tip">
	<p>Для быстрой и стабильной работы лучше использовать «Гугл Хром» или  «Сафари» и закрыть другие вкладки.</p>
        <p>Дополненная реальность отображается, когда камера видит черно-белую метку.</p>
	<a class="gotit" href="#">Понятно</a>
</div>
	
<div id="container">
<img class="center-pic" src="../img/loading_gray.gif" width="30%" height="40%"/>
</div>
<body style='margin : 0px; overflow: hidden;'>
	<a-scene embedded arjs='trackingMethod: best; sourceType: webcam; detectionMode: mono_and_matrix; matrixCodeType: 3x3; debugUIEnabled: false;'>
	<a-assets>
<a-asset-item id="my-obj" src="https://raw.githubusercontent.com/moipolicliniki/moipolicliniki.github.io/master/models/grafikaFIX.obj"></a-asset-item>
<a-asset-item id="my-mtl" src="https://raw.githubusercontent.com/moipolicliniki/moipolicliniki.github.io/master/models/grafikaFIX.mtl"></a-asset-item>
<a-asset-item id="duck-obj" src="https://raw.githubusercontent.com/moipolicliniki/moipolicliniki.github.io/master/models/grafikaFIXduck.obj"></a-asset-item>
<a-asset-item id="duck-mtl" src="https://raw.githubusercontent.com/moipolicliniki/moipolicliniki.github.io/master/models/grafikaFIXduck.mtl"></a-asset-item>
<a-asset-item id="toy1-obj" src="https://raw.githubusercontent.com/moipolicliniki/moipolicliniki.github.io/master/models/grafikaFIXtoy1.obj"></a-asset-item>
<a-asset-item id="toy1-mtl" src="https://raw.githubusercontent.com/moipolicliniki/moipolicliniki.github.io/master/models/grafikaFIXtoy1.mtl"></a-asset-item>
<a-asset-item id="toy3-obj" src="https://raw.githubusercontent.com/moipolicliniki/moipolicliniki.github.io/master/models/grafikaFIXtoy3.obj"></a-asset-item>
<a-asset-item id="toy3-mtl" src="https://raw.githubusercontent.com/moipolicliniki/moipolicliniki.github.io/master/models/grafikaFIXtoy3.mtl"></a-asset-item>
<a-asset-item id="toy6-obj" src="https://raw.githubusercontent.com/moipolicliniki/moipolicliniki.github.io/master/models/grafikaFIXtoy6.obj"></a-asset-item>
<a-asset-item id="toy6-mtl" src="https://raw.githubusercontent.com/moipolicliniki/moipolicliniki.github.io/master/models/grafikaFIXtoy6.mtl"></a-asset-item>
<a-asset-item id="toy2-obj" src="https://raw.githubusercontent.com/moipolicliniki/moipolicliniki.github.io/master/models/grafikaFIXtoy2.obj"></a-asset-item>
<a-asset-item id="toy2-mtl" src="https://raw.githubusercontent.com/moipolicliniki/moipolicliniki.github.io/master/models/grafikaFIXtoy2.mtl"></a-asset-item>
	</a-assets>
		
<a-marker type='barcode' value='2'>
	<a-entity light="type: hemisphere; color: white; groundColor: white; intensity: 1.5"></a-entity>

<a-entity id="box">
     <a-entity id="container" position="0 1 -4">
	<a-entity id="my"  side="double" rotation="0 0 0"  position="0 1 0" scale="2 2 2"  obj-model="obj: #my-obj; mtl: #my-mtl">
	  <a-animation attribute="rotation"  dur="22000" from="0 0 0"  to="0 360 0" repeat="indefinite" easing="linear"></a-animation>
	</a-entity>
     </a-entity>

     <a-entity id="container2" position="0 1 4">
	<a-entity id="duck"  side="double" rotation="0 0 0"  position="0 1 0" scale="2 2 2"  obj-model="obj: #duck-obj; mtl: #duck-mtl">
	  <a-animation attribute="rotation"  dur="22000" from="0 0 0"  to="0 360 0" repeat="indefinite" easing="linear"></a-animation>
	</a-entity>
     </a-entity>
	
      <a-entity id="container3" position="-3 1 -2">
	<a-entity id="toy3"  side="double" rotation="0 0 0"  position="0 1 0" scale="2 2 2"  obj-model="obj: #toy1-obj; mtl: #toy1-mtl">
	  <a-animation attribute="rotation"  dur="22000" from="0 0 0"  to="0 360 0" repeat="indefinite" easing="linear"></a-animation>
	</a-entity>
     </a-entity>
	
      <a-entity id="container4" position="3 1 -2">
	<a-entity id="toy4"  side="double" rotation="0 0 0"  position="0 1 0" scale="2 2 2"  obj-model="obj: #toy3-obj; mtl: #toy3-mtl">
	  <a-animation attribute="rotation"  dur="22000" from="0 0 0"  to="0 360 0" repeat="indefinite" easing="linear"></a-animation>
	</a-entity>
     </a-entity>
	
      <a-entity id="container5" position="3 1 2">
	<a-entity id="toy5"  side="double" rotation="0 0 0"  position="0 1 0" scale="2 2 2"  obj-model="obj: #toy6-obj; mtl: #toy6-mtl">
	  <a-animation attribute="rotation"  dur="22000" from="0 0 0"  to="0 360 0" repeat="indefinite" easing="linear"></a-animation>
	</a-entity>
     </a-entity>
	
      <a-entity id="container6" position="-3 1 2">
	<a-entity id="toy6"  side="double" rotation="0 0 0"  position="0 1 0" scale="1.5 1.5 1.5"  obj-model="obj: #toy2-obj; mtl: #toy2-mtl">
	  <a-animation attribute="rotation"  dur="22000" from="0 0 0"  to="0 360 0" repeat="indefinite" easing="linear"></a-animation>
	</a-entity>
     </a-entity>
	       <a-animation attribute="rotation"  dur="22000" from="0 0 0"  to="0 -360 0" repeat="indefinite" easing="linear"></a-animation>
  </a-entity>

		</a-marker>
	          	<a-camera-static/>
	</a-scene>
<script>
	function start() {
  document.getElementById('container').style.display = 'none';
}
document.getElementsByClassName('gotit')[0].addEventListener( "click" , function() {document.getElementsByClassName('AR-tip')[0].style.display = 'none'});
var model=document.getElementById('my').addEventListener('model-loaded', function() { setTimeout(start, 7000); });
	</script>

</body>

